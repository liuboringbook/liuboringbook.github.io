<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Nuxt.js介绍 | 无聊才读书-博客</title><meta name="description" content="Nuxt爬坑第一节：nuxt.js相关概述nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来做SSR(服务端渲染)，Vue.js是开发SPA(单页应用)的，Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html 1. 那服务器端渲染到底有什么好处？主要的原因是SPA(单页应用)不利于搜素引擎的SEO操作，Nuxt.js"><meta name="keywords" content="Vue,面试,ES6,webpack,node,前端"><meta name="author" content="刘如刚"><meta name="copyright" content="刘如刚"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.liurugang.cn/posts/60077/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><meta property="og:type" content="article"><meta property="og:title" content="Nuxt.js介绍"><meta property="og:url" content="http://blog.liurugang.cn/posts/60077/"><meta property="og:site_name" content="无聊才读书-博客"><meta property="og:description" content="Nuxt爬坑第一节：nuxt.js相关概述nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来做SSR(服务端渲染)，Vue.js是开发SPA(单页应用)的，Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html 1. 那服务器端渲染到底有什么好处？主要的原因是SPA(单页应用)不利于搜素引擎的SEO操作，Nuxt.js"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2021-01-30T13:33:47.604Z"><meta property="article:modified_time" content="2021-01-30T14:48:01.058Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="Nuxt.js爬坑" href="http://blog.liurugang.cn/posts/25/"><link rel="next" title="Vue面试题" href="http://blog.liurugang.cn/posts/719/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2021-01-30 22:48:01'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Chocolate1999/cdn/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">18</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 媒体</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fab fa-phoenix-framework"></i><span> 主页</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Nuxt爬坑"><span class="toc-number">1.</span> <span class="toc-text">Nuxt爬坑</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#第一节：nuxt-js相关概述"><span class="toc-number">1.1.</span> <span class="toc-text">第一节：nuxt.js相关概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-那服务器端渲染到底有什么好处？"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 那服务器端渲染到底有什么好处？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-什么是SSR"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 什么是SSR?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第二节：Nuxt环境搭建"><span class="toc-number">1.2.</span> <span class="toc-text">第二节：Nuxt环境搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Nuxt-js安装"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. Nuxt.js安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-第一个Nuxt应用程序安装"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 第一个Nuxt应用程序安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Nuxt渲染流程"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. Nuxt渲染流程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三节：Nuxt目录结构"><span class="toc-number">1.3.</span> <span class="toc-text">第三节：Nuxt目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#目录结构介绍"><span class="toc-number">1.3.1.</span> <span class="toc-text">目录结构介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置文件"><span class="toc-number">1.3.2.</span> <span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nuxt运行命令"><span class="toc-number">1.3.3.</span> <span class="toc-text">Nuxt运行命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第四节：-Nuxt常用配置项"><span class="toc-number">1.4.</span> <span class="toc-text">第四节： Nuxt常用配置项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-配置IP和端口"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. 配置IP和端口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-配置全局CSS"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. 配置全局CSS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-配置webpack的loader"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. 配置webpack的loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-全局修改seo的head信息"><span class="toc-number">1.4.4.</span> <span class="toc-text">4. 全局修改seo的head信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第五节：-Nuxt的路由配置和参数传递"><span class="toc-number">1.5.</span> <span class="toc-text">第五节： Nuxt的路由配置和参数传递</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-基本路由"><span class="toc-number">1.5.1.</span> <span class="toc-text">1. 基本路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-页面跳转"><span class="toc-number">1.5.2.</span> <span class="toc-text">2. 页面跳转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-动态路由"><span class="toc-number">1.5.3.</span> <span class="toc-text">3.动态路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-跳转路由传递参数并且取值"><span class="toc-number">1.5.4.</span> <span class="toc-text">4. 跳转路由传递参数并且取值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-路由参数校验"><span class="toc-number">1.5.5.</span> <span class="toc-text">5. 路由参数校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-嵌套路由"><span class="toc-number">1.5.6.</span> <span class="toc-text">6. 嵌套路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第六节：Nuxt的路由动画效果"><span class="toc-number">1.6.</span> <span class="toc-text">第六节：Nuxt的路由动画效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-全局路由动画"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 全局路由动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-单独设置页面动效"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 单独设置页面动效</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第七节：Nuxt的默认模板和默认布局"><span class="toc-number">1.7.</span> <span class="toc-text">第七节：Nuxt的默认模板和默认布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-默认模板"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 默认模板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-默认布局"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 默认布局</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第八节：Nuxt插件的使用"><span class="toc-number">1.8.</span> <span class="toc-text">第八节：Nuxt插件的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ElementUI使用"><span class="toc-number">1.9.</span> <span class="toc-text">1. ElementUI使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-axios的使用"><span class="toc-number">1.9.1.</span> <span class="toc-text">2. axios的使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第九节：-Nuxt的错误页面和个性meta设置"><span class="toc-number">1.10.</span> <span class="toc-text">第九节： Nuxt的错误页面和个性meta设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-建立错误页面"><span class="toc-number">1.10.1.</span> <span class="toc-text">1. 建立错误页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-个性meta设置"><span class="toc-number">1.10.2.</span> <span class="toc-text">2. 个性meta设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十节：asyncData方法获取数据"><span class="toc-number">1.11.</span> <span class="toc-text">第十节：asyncData方法获取数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-造假数据"><span class="toc-number">1.11.1.</span> <span class="toc-text">1. 造假数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-asyncData的promise方法"><span class="toc-number">1.11.2.</span> <span class="toc-text">2. asyncData的promise方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-asyncData的promise并发应用"><span class="toc-number">1.11.3.</span> <span class="toc-text">3. asyncData的promise并发应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-asyncData的await方法"><span class="toc-number">1.11.4.</span> <span class="toc-text">4. asyncData的await方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-注意事项-生命周期"><span class="toc-number">1.11.5.</span> <span class="toc-text">5. 注意事项+生命周期</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十一节：静态资源和打包"><span class="toc-number">1.12.</span> <span class="toc-text">第十一节：静态资源和打包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-静态资源"><span class="toc-number">1.12.1.</span> <span class="toc-text">1. 静态资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-打包"><span class="toc-number">1.12.2.</span> <span class="toc-text">2. 打包</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">无聊才读书-博客</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> 媒体</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fab fa-phoenix-framework"></i><span> 主页</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Nuxt.js介绍</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-01-30 21:33:47"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2021-01-30</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-01-30 22:48:01"><i class="fas fa-history fa-fw"></i> 更新于 2021-01-30</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Nuxt爬坑"><a href="#Nuxt爬坑" class="headerlink" title="Nuxt爬坑"></a>Nuxt爬坑</h1><h2 id="第一节：nuxt-js相关概述"><a href="#第一节：nuxt-js相关概述" class="headerlink" title="第一节：nuxt.js相关概述"></a>第一节：nuxt.js相关概述</h2><p>nuxt.js简单的说是Vue.js的通用框架，最常用的就是用来做SSR(服务端渲染)，Vue.js是开发SPA(单页应用)的，Nuxt.js这个框架，用Vue开发多页应用，并在服务端完成渲染，可以直接用命令把我们制作的vue项目生成为静态html</p>
<h3 id="1-那服务器端渲染到底有什么好处？"><a href="#1-那服务器端渲染到底有什么好处？" class="headerlink" title="1. 那服务器端渲染到底有什么好处？"></a>1. 那服务器端渲染到底有什么好处？</h3><p>主要的原因是SPA(单页应用)不利于搜素引擎的SEO操作，Nuxt.js适合做新闻，博客，电影，资讯这样的需要搜索引擎提供流量的项目。如果你要做移动端的项目，就没必要使用这个框架了。</p>
<h3 id="2-什么是SSR"><a href="#2-什么是SSR" class="headerlink" title="2. 什么是SSR?"></a>2. 什么是SSR?</h3><p>在认识SSR之间，首先对CSR与SSR之间做个对比、</p>
<p>首先看一下传统的web开发，传统的web开发是，客户端向服务端发送请求，服务端查询数据库，拼接HTML字符串(模板)，通过一系列的数据处理之后，把整理好的HTML返回给客户端，浏览器相当于打开了一个页面，这种比如我们经常听说过的<code>jsp</code>，<code>PHP</code>,<code>aspx</code>也是传统的<code>MVC</code>的开发。</p>
<p>SPA应用，到了Vue，React，单页应用优秀的用户体验，逐渐成为了主流，页面整体式<code>javascript</code>渲染出来的，称之为客户端渲染<code>CSR</code>。<code>SPA</code>渲染过程。由客户端访问<code>URL</code>发送请求到服务端，返回<code>HTML</code>结构。客户端接收到了返回结果之后，在客户端开始渲染<code>HTML</code>，渲染时执行对应<code>javascript</code>最后渲染<code>template</code>，渲染完成之后，再次向服务端发送数据请求，注意这里时数据请求，服务端返回<code>json</code>格式数据。客户端接收数据，然后完成最后渲染。</p>
<p><code>SPA</code>虽然给服务器减轻了压力，但是也是有缺点的：</p>
<ol>
<li>首屏渲染时间比较长；必须等待<code>javascript</code>加载完毕，并且执行完毕，才能渲染出首屏。</li>
<li><code>SEO</code>不友好：爬虫只能拿到一个<code>div</code>元素，认为页面是空的，不利用<code>SEO</code></li>
</ol>
<p>为了解决如下两个问题，出现了<code>SSR</code>解决方案，后端渲染出首屏的<code>DOM</code>结构返回，前端首先拿到内容带上首屏，后续的页面操作，再用单页路由和渲染，称之为服务端渲染（SSR）。</p>
<p><code>SSR</code>渲染流程时这样的，客户端发送<code>URL</code>请求到服务端，服务端读取对应的<code>URL</code>的模板信息，在服务端做出<code>html</code>和数据的渲染，渲染完成之后返回<code>html</code>结构，客户端这是拿到的之后首屏页面的<code>html</code>结构。所以用户在浏览器首屏的时候速度会很快，因为客户端不需要再次发送<code>ajax</code>请求。并不是做了<code>SSR</code>我们的页面就不属于<code>SPA</code>应用了，它仍然是一个独立的<code>SPA</code>应用。</p>
<p><code>SSR</code>是处于<code>CSR</code>与<code>SPA</code>应用之间的一个折中的方案，在渲染首屏的时候再服务端做出了渲染，注意仅仅是首屏，其他页面还是需要在客户端渲染的，在<code>服务端</code>接收请求之后并且渲染出首屏页面，会携带着剩余的路由信息预留给<code>客户端</code>去渲染其他路由的页面。</p>
<p>Nuxt.js的特点(优点)：</p>
<ul>
<li>基于<code>Vue</code></li>
<li>自动代码分层</li>
<li>服务端渲染</li>
<li>强大的路由功能，支持异步数据</li>
<li>静态文件服务</li>
<li><code>ECMAScript6</code>和<code>ECMAScript7</code>的语法支持</li>
<li>打包和压缩<code>javascript</code>和<code>css</code></li>
<li><code>HTML</code>头部标签管理</li>
<li>本地开发支持热加载</li>
<li>集成<code>ESLint</code></li>
<li>支持各种样式预编译器<code>SASS</code>,<code>LESS</code>等等</li>
<li>支持<code>HTTP/2</code>推送</li>
</ul>
<h2 id="第二节：Nuxt环境搭建"><a href="#第二节：Nuxt环境搭建" class="headerlink" title="第二节：Nuxt环境搭建"></a>第二节：Nuxt环境搭建</h2><h3 id="1-Nuxt-js安装"><a href="#1-Nuxt-js安装" class="headerlink" title="1. Nuxt.js安装"></a>1. Nuxt.js安装</h3><p>在使用npm前你需要先安装Node到系统中</p>
<p>（1） 用npm来安装vue-cli这个框架</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli -g</span><br></pre></td></tr></table></figure>

<p>安装完成后使用vue -V 来测试是否安装成功。</p>
<p>（2）使用vue安装nuxt<br>安装好vue-cli后，就可以使用init命令来初始化Nuxt.js项目</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init nuxt/starter</span><br></pre></td></tr></table></figure>

<p>(3) 使用npm install来安装依赖包</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>这个过程是要等一会的，如果你这个安装失败，可以直接删除项目中的<code>node_modules</code>文件夹后，重新<code>npm install</code>进行安装</p>
<p>（4）使用<code>npm run dev</code>启动服务</p>
<p>（5）在浏览器输入localhost:3000，可以看到结果如下：</p>
<p><img src= "/img/loading.gif" data-src="https://user-gold-cdn.xitu.io/2019/4/30/16a6db583e58fd21?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<h3 id="2-第一个Nuxt应用程序安装"><a href="#2-第一个Nuxt应用程序安装" class="headerlink" title="2. 第一个Nuxt应用程序安装"></a>2. 第一个Nuxt应用程序安装</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm i create-nuxt-app -g</span><br><span class="line">create-nuxt-app my-nuxt-demo</span><br><span class="line">cd my-nuxt-demo</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>安装向导</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Project name                                <span class="comment">//  项目名称</span></span><br><span class="line">Project description                         <span class="comment">//  项目描述</span></span><br><span class="line">Use a custom server framework               <span class="comment">//  选择服务器框架</span></span><br><span class="line">Choose features to install                  <span class="comment">//  选择安装的特性</span></span><br><span class="line">Use a custom UI framework                   <span class="comment">//  选择UI框架</span></span><br><span class="line">Use a custom test framework                 <span class="comment">//  测试框架</span></span><br><span class="line">Choose rendering mode                       <span class="comment">//  渲染模式</span></span><br><span class="line">Universal                                   <span class="comment">//  渲染所有连接页面</span></span><br><span class="line">Single Page App                             <span class="comment">//  只渲染当前页面</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Nuxt渲染流程"><a href="#3-Nuxt渲染流程" class="headerlink" title="3. Nuxt渲染流程"></a>3. Nuxt渲染流程</h3><p>一个完整的服务器请求到渲染的流程</p>
<p><img src= "/img/loading.gif" data-src="https://user-gold-cdn.xitu.io/2019/4/30/16a6db58678e3bbe?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>通过上面的流程图可以看出，当一个客户端请求进入的时候，服务端有通过<code>nuxtServerInit</code>这个命令在<code>Store</code>的<code>action</code>中，在这里接收到客户端请求的时候，可以将一些客户端信息存储到<code>Store</code>中，也就是说可以把服务端存储的一些客户端的一些登录信息存储到<code>Store</code>中。之后使用了<code>中间件</code>机制，中间件其实就是一个函数，会在每个路由执行之前去执行，在这里可以做很多事情，或者说可以理解为是路由器的拦截器的作用。然后再<code>validate</code>执行的时候对客户端携带的参数进行效验，在<code>asyncData</code>与<code>fetch</code>进入正式的渲染周期，<code>asyncData</code>向服务端获取数据，把请求到的数据合并到<code>Vue</code>中的<code>data</code>中</p>
<h2 id="第三节：Nuxt目录结构"><a href="#第三节：Nuxt目录结构" class="headerlink" title="第三节：Nuxt目录结构"></a>第三节：Nuxt目录结构</h2><h3 id="目录结构介绍"><a href="#目录结构介绍" class="headerlink" title="目录结构介绍"></a>目录结构介绍</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">└─my-nuxt-demo</span><br><span class="line">  ├─.nuxt               <span class="comment">// Nuxt自动生成，临时的用于编辑的文件，build</span></span><br><span class="line">  ├─assets              <span class="comment">// 用于组织未编译的静态资源如LESS、SASS或JavaScript,对于不需要通过 Webpack 处理的静态资源文件，可以放置在 static 目录中</span></span><br><span class="line">  ├─components          <span class="comment">// 用于自己编写的Vue组件，比如日历组件、分页组件</span></span><br><span class="line">  ├─layouts             <span class="comment">// 布局目录，用于组织应用的布局组件，不可更改⭐</span></span><br><span class="line">  ├─middleware          <span class="comment">// 用于存放中间件</span></span><br><span class="line">  ├─node_modules</span><br><span class="line">  ├─pages               <span class="comment">// 用于组织应用的路由及视图,Nuxt.js根据该目录结构自动生成对应的路由配置，文件名不可更改⭐</span></span><br><span class="line">  ├─plugins             <span class="comment">// 用于组织那些需要在 根vue.js应用 实例化之前需要运行的 Javascript 插件。</span></span><br><span class="line">  ├─<span class="keyword">static</span>              <span class="comment">// 用于存放应用的静态文件，此类文件不会被 Nuxt.js 调用 Webpack 进行构建编译处理。 服务器启动的时候，该目录下的文件会映射至应用的根路径 / 下。文件夹名不可更改。⭐</span></span><br><span class="line">  └─store               <span class="comment">// 用于组织应用的Vuex 状态管理。文件夹名不可更改。⭐</span></span><br><span class="line">  ├─.editorconfig       <span class="comment">// 开发工具格式配置</span></span><br><span class="line">  ├─.eslintrc.js        <span class="comment">// ESLint的配置文件，用于检查代码格式</span></span><br><span class="line">  ├─.gitignore          <span class="comment">// 配置git忽略文件</span></span><br><span class="line">  ├─nuxt.config.js      <span class="comment">// 用于组织Nuxt.js 应用的个性化配置，以便覆盖默认配置。文件名不可更改。⭐</span></span><br><span class="line">  ├─package-lock.json   <span class="comment">// npm自动生成，用于帮助package的统一设置的，yarn也有相同的操作</span></span><br><span class="line">  ├─package.json        <span class="comment">// npm 包管理配置文件</span></span><br><span class="line">  ├─README.md</span><br></pre></td></tr></table></figure>

<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pkg = <span class="built_in">require</span>(<span class="string">'./package'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'universal'</span>,    <span class="comment">//  当前渲染使用模式</span></span><br><span class="line">  head: &#123;       <span class="comment">//  页面head配置信息</span></span><br><span class="line">    title: pkg.name,        <span class="comment">//  title</span></span><br><span class="line">    meta: [         <span class="comment">//  meat</span></span><br><span class="line">      &#123; <span class="attr">charset</span>: <span class="string">'utf-8'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">'viewport'</span>, <span class="attr">content</span>: <span class="string">'width=device-width, initial-scale=1'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">hid</span>: <span class="string">'description'</span>, <span class="attr">name</span>: <span class="string">'description'</span>, <span class="attr">content</span>: pkg.description &#125;</span><br><span class="line">    ],</span><br><span class="line">    link: [     <span class="comment">//  favicon，若引用css不会进行打包处理</span></span><br><span class="line">      &#123; <span class="attr">rel</span>: <span class="string">'icon'</span>, <span class="attr">type</span>: <span class="string">'image/x-icon'</span>, <span class="attr">href</span>: <span class="string">'/favicon.ico'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  loading: &#123; <span class="attr">color</span>: <span class="string">'#fff'</span> &#125;,   <span class="comment">//  页面进度条</span></span><br><span class="line">  css: [    <span class="comment">//  全局css（会进行webpack打包处理）</span></span><br><span class="line">    <span class="string">'element-ui/lib/theme-chalk/index.css'</span>  </span><br><span class="line">  ],</span><br><span class="line">  plugins: [        <span class="comment">//  插件</span></span><br><span class="line">    <span class="string">'@/plugins/element-ui'</span></span><br><span class="line">  ],</span><br><span class="line">  modules: [        <span class="comment">//  模块</span></span><br><span class="line">    <span class="string">'@nuxtjs/axios'</span>,</span><br><span class="line">  ],</span><br><span class="line">  axios: &#123;&#125;,</span><br><span class="line">  build: &#123;      <span class="comment">//  打包</span></span><br><span class="line">    transpile: [<span class="regexp">/^element-ui/</span>],</span><br><span class="line">    extend(config, ctx) &#123;       <span class="comment">//  webpack自定义配置</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Nuxt运行命令"><a href="#Nuxt运行命令" class="headerlink" title="Nuxt运行命令"></a>Nuxt运行命令</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="comment">//  开发环境</span></span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"cross-env NODE_ENV=development nodemon server/index.js --watch server"</span>,</span><br><span class="line">    <span class="comment">//  打包</span></span><br><span class="line">    <span class="string">"build"</span>: <span class="string">"nuxt build"</span>,</span><br><span class="line">    <span class="comment">//  在服务端运行</span></span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"cross-env NODE_ENV=production node server/index.js"</span>,</span><br><span class="line">    <span class="comment">//  生成静态页面</span></span><br><span class="line">    <span class="string">"generate"</span>: <span class="string">"nuxt generate"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第四节：-Nuxt常用配置项"><a href="#第四节：-Nuxt常用配置项" class="headerlink" title="第四节： Nuxt常用配置项"></a>第四节： Nuxt常用配置项</h2><h3 id="1-配置IP和端口"><a href="#1-配置IP和端口" class="headerlink" title="1. 配置IP和端口"></a>1. 配置IP和端口</h3><p>开发中经常会遇到端口占用或指定IP的情况，我们需要在根目录下的<code>package.json</code>里对config项进行配置。比如现在我们想把IP配置成127.0.0.1，端口设置1000</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"config"</span>:&#123;</span><br><span class="line">    <span class="string">"nuxt"</span>:&#123;</span><br><span class="line">        <span class="string">"host"</span>:<span class="string">'127.0.0.1'</span>,</span><br><span class="line">         <span class="string">"port"</span>:<span class="string">"1000"</span>   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置好后，我们在终端输入<code>npm run dev</code>，然后你就会看到服务地址改为了127.0.0.1:1000</p>
<h3 id="2-配置全局CSS"><a href="#2-配置全局CSS" class="headerlink" title="2. 配置全局CSS"></a>2. 配置全局CSS</h3><p>在开发多页项目时，都会定义一个全局的CSS来初始化我们的页面渲染，比如把padding和margin设置成0，网上有非常出名的开源css文件normalize.css。要定义这些配置，需要在<code>nuxt.config.js</code>里进行操作。</p>
<p>比如现在我们要把页面字体设置为红色，就可以在assets/css/common.css文件，然后把字体设置为红色。</p>
<p>/assets/css/common.css</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">html&#123;</span><br><span class="line">    color:red</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>/nuxt.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">css:[<span class="string">'~assets/css/normalize.css'</span>]</span><br></pre></td></tr></table></figure>

<p>设置好后，在终端输入<code>npm run dev</code>然后你会发现字体已经变成了红色</p>
<h3 id="3-配置webpack的loader"><a href="#3-配置webpack的loader" class="headerlink" title="3. 配置webpack的loader"></a>3. 配置webpack的loader</h3><p>在nuxt.config.js里可以对webpack的基本配置进行覆盖的，比如现在我们要配置衣蛾url-loader进行小图片的64位打包。就可以在nuxt.config.js的build选项里进行配置，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">build: &#123;</span><br><span class="line">    loaders:[</span><br><span class="line">      &#123;</span><br><span class="line">        test:<span class="regexp">/\.(png|jpe?g|gif|svg)$/</span>,</span><br><span class="line">        loader:<span class="string">"url-loader"</span>,</span><br><span class="line">        query:&#123;</span><br><span class="line">          limit:<span class="number">10000</span>,</span><br><span class="line">          name:<span class="string">'img/[name].[hash].[ext]'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    ** Run ESLint on save</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    extend (config, &#123; isDev, isClient &#125;) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isDev &amp;&amp; isClient) &#123;</span><br><span class="line">        config.module.rules.push(&#123;</span><br><span class="line">          enforce: <span class="string">'pre'</span>,</span><br><span class="line">          test: <span class="regexp">/\.(js|vue)$/</span>,</span><br><span class="line">          loader: <span class="string">'eslint-loader'</span>,</span><br><span class="line">          exclude: <span class="regexp">/(node_modules)/</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-全局修改seo的head信息"><a href="#4-全局修改seo的head信息" class="headerlink" title="4. 全局修改seo的head信息"></a>4. 全局修改seo的head信息</h3><p><code>nuxt.config</code>文件中，修改title为wfaceboss：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">head&#123;</span><br><span class="line">     title: <span class="string">'wfaceboss'</span>,</span><br><span class="line">    meta: [</span><br><span class="line">      &#123; <span class="attr">charset</span>: <span class="string">'utf-8'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">'viewport'</span>, <span class="attr">content</span>: <span class="string">'width=device-width, initial-scale=1'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">hid</span>: <span class="string">'description'</span>, <span class="attr">name</span>: <span class="string">'description'</span>, <span class="attr">content</span>: <span class="string">'Nuxt.js project'</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    link: [</span><br><span class="line">      &#123; <span class="attr">rel</span>: <span class="string">'icon'</span>, <span class="attr">type</span>: <span class="string">'image/x-icon'</span>, <span class="attr">href</span>: <span class="string">'/favicon.ico'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改后重启服务，即运行npm run dev交过如下</p>
<p><img src= "/img/loading.gif" data-src="https://user-gold-cdn.xitu.io/2019/4/30/16a6db583aa9f80d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<h2 id="第五节：-Nuxt的路由配置和参数传递"><a href="#第五节：-Nuxt的路由配置和参数传递" class="headerlink" title="第五节： Nuxt的路由配置和参数传递"></a>第五节： Nuxt的路由配置和参数传递</h2><p>Nuxt.js的路由并不复杂，它给我们进行了封装，让我们节省了很多配置环节</p>
<h3 id="1-基本路由"><a href="#1-基本路由" class="headerlink" title="1. 基本路由"></a>1. 基本路由</h3><p>Nuxt.js依据<code>pages</code>目录结构自动生成vue-router模块的路由配置</p>
<p>假设<code>pages</code>的目录如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">└─pages</span><br><span class="line">    ├─index.vue</span><br><span class="line">    └─user</span><br><span class="line">      ├─index.vue</span><br><span class="line">      ├─one.vue</span><br></pre></td></tr></table></figure>

<p>那么，Nuxt.js自动生成的路由配置如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">router:&#123;</span><br><span class="line">    routes:[</span><br><span class="line">        &#123;</span><br><span class="line">            name:<span class="string">'index'</span>,</span><br><span class="line">            path:<span class="string">'/'</span>,</span><br><span class="line">            component:<span class="string">'pages/index.vue'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name:<span class="string">'user'</span>,</span><br><span class="line">            path:<span class="string">'/user'</span>,</span><br><span class="line">            component:<span class="string">'pages/user/index.vue'</span></span><br><span class="line">        &#125;,&#123;</span><br><span class="line">            name:<span class="string">'user-one'</span>,</span><br><span class="line">            path：<span class="string">'/user/one'</span>,</span><br><span class="line">            component：<span class="string">'pages/user/one.vue'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-页面跳转"><a href="#2-页面跳转" class="headerlink" title="2. 页面跳转"></a>2. 页面跳转</h3><ol>
<li><p>不要写成a标签，因为是重新获取一个新的页面，并不是SPA</p>
</li>
<li><p><code>&lt;nuxt-link to=&quot;/users&quot;&gt;&lt;/nuxt-link&gt;</code></p>
</li>
<li><p><code>this.$router.push(&#39;/users&#39;)</code></p>
</li>
</ol>
<h3 id="3-动态路由"><a href="#3-动态路由" class="headerlink" title="3.动态路由"></a>3.动态路由</h3><ul>
<li>在Nuxt.js里面定义带参数的动态路由，需要创建对应的以下划线作为前缀的Vue文件或目录</li>
<li>获取动态参数<code></code> </li>
</ul>
<h3 id="4-跳转路由传递参数并且取值"><a href="#4-跳转路由传递参数并且取值" class="headerlink" title="4. 跳转路由传递参数并且取值"></a>4. 跳转路由传递参数并且取值</h3><p>路由进化出那个需要传递参数，我们可以简单的使用params来进行传递参数，我们现在向新闻页面(news)传递个参数，然后在新闻页面进行简单的接收</p>
<p>(1 ) 使用nuxt传递参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">           &lt;li&gt;&lt;nuxt-link to&#x3D;&quot;&#96;informa&#x2F;$&#123;item.newsCode&#125;-$&#123;item.newType&#125;&#96;&quot;&gt;&lt;&#x2F;nuxt-link&gt;&lt;&#x2F;li&gt;    </span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>注意：name其实指向的是路由，而路由区分大小写，所有to后面区分大小写，建议文件夹都写成小写</p>
<p><img src= "/img/loading.gif" data-src="https://user-gold-cdn.xitu.io/2019/4/30/16a6db5841bd84bb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>（2） 使用nuxt接收参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> asyncData(context)&#123;</span><br><span class="line">    <span class="keyword">let</span> newsCode =context.route.params.code.split(<span class="string">'-'</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> newsType = context.route.parmas.code.split(<span class="string">'-'</span>)[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(3)  使用this.$router.push的params传递参数</p>
<p>传递参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="attr">path</span>:<span class="string">'路由'</span>,<span class="attr">query</span>:&#123;<span class="attr">key</span>:value&#125;&#125;)</span><br></pre></td></tr></table></figure>

<p>参数取值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.query.key</span><br></pre></td></tr></table></figure>

<h3 id="5-路由参数校验"><a href="#5-路由参数校验" class="headerlink" title="5. 路由参数校验"></a>5. 路由参数校验</h3><p><code>nuxt.js</code>可以让你在动态路由对应的页面组件中配置一个<code>validate</code>方法用于效验动态路由参数的有效性。该函数有一个布尔类型的返回值，如果返回true则表示效验通过，如果返回false则表示效验未通过</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    validate(obj)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="regexp">/^\d+$/</span>.test(obj.params.id)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-嵌套路由"><a href="#6-嵌套路由" class="headerlink" title="6. 嵌套路由"></a>6. 嵌套路由</h3><ol>
<li>添加一个Vue文件作为父组件</li>
<li>添加一个与父组件同名的文件夹存放子视图组件</li>
<li>在父文件中，添加组件，用于展示匹配到的子视图</li>
</ol>
<h2 id="第六节：Nuxt的路由动画效果"><a href="#第六节：Nuxt的路由动画效果" class="headerlink" title="第六节：Nuxt的路由动画效果"></a>第六节：Nuxt的路由动画效果</h2><p>路由的动画效果，也叫做页面的更换效果。Nuxt.js提供两种方法为路由提供动画效果，一种是全局的，一种是针对单独页面制作。</p>
<h3 id="1-全局路由动画"><a href="#1-全局路由动画" class="headerlink" title="1. 全局路由动画"></a>1. 全局路由动画</h3><p>全局动画默认使用page来进行设置，例如现在我们为每个页面都设置一个进入和退出时的渐隐渐现的效果。我们可以现在根目录的assets/css下建立一个normalize.css文件</p>
<p>（1）添加样式文件</p>
<p>/assets/css/normalize.css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-enter-active</span>, <span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">2s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pgae-enter</span>, <span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2) 文件配置</p>
<p>然后在nuxt.config.js里加入一个全局的css文件就可以了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">css:[<span class="string">'assets/css/main.css'</span>]</span><br></pre></td></tr></table></figure>

<p>这时候在页面切换的时候就会有2秒钟的动画切换效果了，但是你会发现一些页面是没有效果的，这是因为你没有是<code>&lt;nuxt-link&gt;</code>组件来制作跳转连接，你需要进行更改</p>
<p>比如我们上节课做得动态路由新闻页，你就需要改成下面的连接</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name:'new-id',params:&#123;id:123&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>改完之后你就可以看到动画效果了</p>
<h3 id="2-单独设置页面动效"><a href="#2-单独设置页面动效" class="headerlink" title="2. 单独设置页面动效"></a>2. 单独设置页面动效</h3><p>相给一个页面单独设置特殊的效果时，我们只要在css里改变默认的page，然后在页面组件的配置中加入transition字段即可。例如，我们想要给about页面加入一个字体放大然后缩小的效果，其他页面没有这个效果</p>
<p>(1) 在全局样式assets/main.css中添加以下内容</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test-enter-active</span>,<span class="selector-class">.test-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>:all <span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test-enter</span>,<span class="selector-class">.test-leave-active</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2)  然后在about/index.vue组件中设置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    transition:<span class="string">'test'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这时候就有了页面切换独特动效了</p>
<p>总结：在需要使用的页面导入即可。</p>
<h2 id="第七节：Nuxt的默认模板和默认布局"><a href="#第七节：Nuxt的默认模板和默认布局" class="headerlink" title="第七节：Nuxt的默认模板和默认布局"></a>第七节：Nuxt的默认模板和默认布局</h2><p>在开发应用时，经常会用到一些公用的元素，比如网页的标题是一样的，每个页面都是一模一样的标题。这时候我们有两种方法，第一种方法是作一个公用的组件出来，第二种方法是修改默认模板。这两种方法各有利弊，比如公用组件更叫灵活，但是每次都需要我们动手引入；模板比较方便，但是只能每个页面都引入。</p>
<h3 id="1-默认模板"><a href="#1-默认模板" class="headerlink" title="1. 默认模板"></a>1. 默认模板</h3><p>Nuxt为我们提供了超简单的默认模板定制方法，只要在根目录下创建一个app.html就可以实现了。现在我们希望每个页面的最上面都加入“学习nuxt.js”这几个字，我们就可以使用模板来完成</p>
<p>app.html中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        &#123;&#123;HEAD&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>学习nuxt.js<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;&#123;APP&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里的读取的是nuxt.config.js里的消息，<code></code>就是我们写的apges文件夹下的主体页面了。需要注意的是HEAD和APP都需要大写，如果小写会报错的</p>
<p>注意：如果你建立了默认模板后，记得要重启服务器，否则显示不会成功；但是默认布局是不用重启服务器的。</p>
<h3 id="2-默认布局"><a href="#2-默认布局" class="headerlink" title="2. 默认布局"></a>2. 默认布局</h3><p>默认模板类似的功能还有默认布局，但是从名字上可以看出，默认布局主要针对对于页面的统一布局使用。它在位置根目录下的layouts/default.vue需要注意的是在默认布局里不要加入头部信息，知识关于<code>&lt;template&gt;</code>标签下的内容统一定制。</p>
<p>需求：我们在每个页面的最顶部放入“学习nuxt.js”这几个字，看一下在默认布局开的实现。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">           学习nuxt.js</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nuxt</span>&gt;</span><span class="tag">&lt;/<span class="name">nuxt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里的<code>&lt;nuxt/&gt;</code>就相当于我们每个页面的内容，你也可以把一些通过那个样式放在这个默认布局里，但这会增加页面的复杂程度。</p>
<p>总结：要区分默认模板和默认布局的区别,模板可以定制很多头部信息，包括IE版本的判断；模板只能定制<code>&lt;template&gt;</code>里的内容，根布局有关系。在工作中修改时要看情况来编写代码</p>
<h2 id="第八节：Nuxt插件的使用"><a href="#第八节：Nuxt插件的使用" class="headerlink" title="第八节：Nuxt插件的使用"></a>第八节：Nuxt插件的使用</h2><h2 id="1-ElementUI使用"><a href="#1-ElementUI使用" class="headerlink" title="1. ElementUI使用"></a>1. ElementUI使用</h2><ol>
<li>下载<code>npm i element-ui -S</code></li>
<li>在plugins文件夹下面创建<code>ElementUI.js</code>文件</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line">Vue.use(ElementUI)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在nuxt.config.js中添加配置</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">css: [</span><br><span class="line">    <span class="string">'element-ui/lib/theme-chalk/index.css'</span></span><br><span class="line">],</span><br><span class="line">plugins:[</span><br><span class="line">    &#123;<span class="attr">src</span>:<span class="string">'~/plugins/ElementUI'</span>,<span class="attr">ssr</span>:<span class="literal">true</span>&#125;</span><br><span class="line">],</span><br><span class="line"> build:&#123;</span><br><span class="line">     vendor:[<span class="string">'element-ui'</span>]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-axios的使用"><a href="#2-axios的使用" class="headerlink" title="2. axios的使用"></a>2. axios的使用</h3><ol>
<li>安装<code>npm install --save axios</code></li>
<li>使用</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line">asyncData(context,callback)&#123;</span><br><span class="line">    axios.get(<span class="string">'http://localhost:3301/in_theaters'</span>)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">        callback(<span class="literal">null</span>,&#123;<span class="attr">list</span>:res.data&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>为了防止重复打包，在nuxt.config.js中配置</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports =&#123;</span><br><span class="line">   build:&#123;</span><br><span class="line">       vendor:[<span class="string">'axios'</span>]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第九节：-Nuxt的错误页面和个性meta设置"><a href="#第九节：-Nuxt的错误页面和个性meta设置" class="headerlink" title="第九节： Nuxt的错误页面和个性meta设置"></a>第九节： Nuxt的错误页面和个性meta设置</h2><p>当用户输入路由错误的时候，我们需要给他一个明确的指引，所以说在应用程序开发中404页面必不可少的，Nuxt.js支持在默认布局文件夹里建立错误页面</p>
<h3 id="1-建立错误页面"><a href="#1-建立错误页面" class="headerlink" title="1. 建立错误页面"></a>1. 建立错误页面</h3><p>在根目录的layouts文件夹下建立一个error.vue文件，它相当于一个显示应用错误的组件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;h2 v-if&#x3D;&quot;error.statusCode&#x3D;&#x3D;404&quot;&gt;404页面不存在&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;h2 v-else&gt;500服务器错误&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;&lt;nuxt-link to&#x3D;&quot;&#x2F;&quot;&gt;HOME&lt;&#x2F;nuxt-link&gt;&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props:[&#39;error&#39;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>代码用v-if进行判断错误类型，需要注意的是这个错误时你需要在<code>&lt;script&gt;</code>里进行声明的，如果不声明程序是找不到err.statusCode的。</p>
<p>这里我也用一个<code>&lt;nuxt-link&gt;</code>的简单写法直接根上路径就可以了。</p>
<h3 id="2-个性meta设置"><a href="#2-个性meta设置" class="headerlink" title="2. 个性meta设置"></a>2. 个性meta设置</h3><p>页面的Meta对于SEO的设置非常重要，比如你现在要做个新闻页面，那为了搜索引擎对新闻的收录，需要每个页面对新闻都有不同的title和meta设置。直接使用head方法来设置头部信息就可以了。我们现在要把New-1这个页面设置成个性的meta和title</p>
<ol>
<li>我们先把<code>pages/news/index.vue</code>页面的链接进行修改一下，传入一个title，目的是为了在新闻具体页面进行接收title，形成文章的标题。</li>
</ol>
<p>/pages/news/index.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">:to</span>=<span class="string">"&#123;name:'news-id',params:&#123;id:123,title:'nuxt.com'&#125;&#125;"</span>&gt;</span>News-1<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>第一步完成后，我们修改/pages/news/_id.vue，让它根据传递值编程独特的meta和title标签。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">           News-Content [&#123;&#123;$route.params.id&#125;&#125;]</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"> <span class="keyword">export</span> <span class="keyword">default</span>&#123;</span></span><br><span class="line">   validate(&#123;params&#125;)&#123;</span><br><span class="line"><span class="actionscript">       <span class="comment">//必须是一个数字</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">return</span> <span class="regexp">/^\d+$/</span>.test(params.id)</span></span><br><span class="line">   &#125;，</span><br><span class="line">   data()&#123;</span><br><span class="line"><span class="actionscript">       <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="actionscript">           title:<span class="keyword">this</span>.$router.params.title</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line"><span class="actionscript">   <span class="comment">//独立设置head消息</span></span></span><br><span class="line">  head()&#123;</span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">          title:<span class="keyword">this</span>.title,</span></span><br><span class="line">          meta：[</span><br><span class="line">          &#123;</span><br><span class="line"><span class="actionscript">            hid:<span class="string">'description'</span>,</span></span><br><span class="line"><span class="actionscript">            name:<span class="string">'news'</span>,</span></span><br><span class="line"><span class="actionscript">            content:<span class="string">'This is news page'</span></span></span><br><span class="line">          &#125;</span><br><span class="line">          ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;     </span><br><span class="line"> &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：为了避免子组件中的meta标签不能正确覆盖父组件中相同的标签而产生重复的现象，建议利用hid键为meta标签配一个唯一的标示编号。</p>
<h2 id="第十节：asyncData方法获取数据"><a href="#第十节：asyncData方法获取数据" class="headerlink" title="第十节：asyncData方法获取数据"></a>第十节：asyncData方法获取数据</h2><p>Nuxt.js贴心的为我们扩展了Vue.js的方法，增加了asyncData，异步请求数据</p>
<h3 id="1-造假数据"><a href="#1-造假数据" class="headerlink" title="1. 造假数据"></a>1. 造假数据</h3><p>（1）创建远程数据</p>
<p>在这里制作一些假的远程数据，我选择的网站是myjson.com。它是一个json的简单仓库，学习使用非常适合的。我们打开网站，在对话空中输入json代码。这个代码可以随意输入，key和value均采用字符串格式创建</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"nuxt"</span>,</span><br><span class="line">      <span class="string">"age"</span>:<span class="number">18</span>,</span><br><span class="line">       <span class="string">"interest"</span>:<span class="string">"I love coding!"</span>   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输入后保存，网站会给你一个地址，这就是你这个json仓库的地址了.</p>
<p>（2）安装Axios</p>
<p>Vue.js官方推荐使用的远程数据方式就是Axios，所以我们安装官方推荐，来使用Axios。这里我们使用npm来安装axios。直接在终端中输入下面的命令</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure>

<h3 id="2-asyncData的promise方法"><a href="#2-asyncData的promise方法" class="headerlink" title="2. asyncData的promise方法"></a>2. asyncData的promise方法</h3><p>我们在pages下面新建一个文件，叫做asyncData.vue。然后写入下面的代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span></span><br><span class="line"><span class="javascript">   <span class="keyword">export</span> <span class="keyword">default</span>&#123;</span></span><br><span class="line">       data()&#123;</span><br><span class="line"><span class="actionscript">           <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">               name:<span class="string">'hello world'</span></span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       asyncData()&#123;</span><br><span class="line"><span class="actionscript">           <span class="keyword">return</span> axios.get(<span class="string">'https://api.myjson.com/bins/1ctwlm'</span>)</span></span><br><span class="line"><span class="javascript">           .then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">               <span class="built_in">console</span>.log(res)</span></span><br><span class="line"><span class="actionscript">               <span class="keyword">return</span> &#123;info:res.data&#125;</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这时候我们可以看到，浏览器中已经能输出结果了，asyncData的方法会把值返回到data中。是组件创建(页面渲染)之前的动作，所以不能使用this.info</p>
<blockquote>
<p>一定要return出去获取到的对象，这样就可以在组件中使用，这里返回的数据会和组件中的data合并。这个函数不光在服务端会执行，在客户端同样也会执行。</p>
</blockquote>
<h3 id="3-asyncData的promise并发应用"><a href="#3-asyncData的promise并发应用" class="headerlink" title="3. asyncData的promise并发应用"></a>3. asyncData的promise并发应用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> asyncData(context) &#123;</span><br><span class="line">  <span class="keyword">let</span> [newDetailRes, hotInformationRes, correlationRes] = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([</span><br><span class="line">    axios.post(<span class="string">'http://www.huanjingwuyou.com/eia/news/detail'</span>, &#123;</span><br><span class="line">      newsCode: newsCode</span><br><span class="line">    &#125;),</span><br><span class="line">    axios.post(<span class="string">'http://www.huanjingwuyou.com/eia/news/select'</span>, &#123;</span><br><span class="line">      newsType: newsType, <span class="comment">// 资讯类型： 3环评资讯 4环评知识</span></span><br><span class="line">      start: <span class="number">0</span>, <span class="comment">// 从第0条开始</span></span><br><span class="line">      pageSize: <span class="number">10</span>,</span><br><span class="line">      newsRecommend: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line">    axios.post(<span class="string">'http://www.huanjingwuyou.com/eia/news/select'</span>, &#123;</span><br><span class="line">      newsType: newsType, <span class="comment">// 资讯类型： 3环评资讯 4环评知识</span></span><br><span class="line">      start: <span class="number">0</span>, <span class="comment">// 从第0条开始</span></span><br><span class="line">      pageSize: <span class="number">3</span>,</span><br><span class="line">      newsRecommend: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    newDetailList: newDetailRes.data.result,</span><br><span class="line">    hotNewList: hotInformationRes.data.result.data,</span><br><span class="line">    newsList: correlationRes.data.result.data,</span><br><span class="line">    newsCode: newsCode,</span><br><span class="line">    newsType: newsType</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="4-asyncData的await方法"><a href="#4-asyncData的await方法" class="headerlink" title="4. asyncData的await方法"></a>4. asyncData的await方法</h3><p>现在都在用async…await来解决异步改写上面的代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span>&#123;</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="actionscript">                name:<span class="string">'hello world'</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="keyword">async</span> asyncData()&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> &#123;data&#125; =<span class="keyword">await</span> axios.get(<span class="string">'https://api.myjson.com/bins/8gdmr'</span>)</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;info:data&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="5-注意事项-生命周期"><a href="#5-注意事项-生命周期" class="headerlink" title="5. 注意事项+生命周期"></a>5. 注意事项+生命周期</h3><ol>
<li>asyncData方法会在组件(限于页面组件)每次加载之前被调用</li>
<li>asyncData可以在服务端或路由更新之前被调用</li>
<li>第一个参数被设定为当前页面的上下文对象</li>
<li>Nuxt会将asyncData返回的数据融合到组件的data方法返回的数据一并返回给组件使用</li>
<li>对于asyncData方式是在组件实例化前被调用的，所以在方法内饰没办法通过<code>this</code>引用组件的实例对象</li>
</ol>
<h2 id="第十一节：静态资源和打包"><a href="#第十一节：静态资源和打包" class="headerlink" title="第十一节：静态资源和打包"></a>第十一节：静态资源和打包</h2><h3 id="1-静态资源"><a href="#1-静态资源" class="headerlink" title="1. 静态资源"></a>1. 静态资源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1)静态引入图片</span><br><span class="line">在网上任意下载一个图片，放到项目中的static文件夹下面，然后可以使用下面的引入方法进行引用</span><br><span class="line">&lt;div&gt;&lt;img src&#x3D;&quot;~static&#x2F;logo.png&quot; &#x2F;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>“~”就相当于定位到了项目根目录，这时候图片路径就不会出现错误，就算打包也是正常的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（2）CSS引入图片</span><br><span class="line">如果在CSS中引入图片，方法和html中直接引入是一样的，也是用“~”符号引入。</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.diss</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:300px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line">        background-image:url('~static/logo.png')</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这时候在npm run deb下完全正常的</p>
<h3 id="2-打包"><a href="#2-打包" class="headerlink" title="2. 打包"></a>2. 打包</h3><p>用Nuxt.js制作完成后，你可以打包成静态文件并放在服务器上，进行运行。</p>
<p>在终端中输入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run generate</span><br></pre></td></tr></table></figure>

<p>然后在dist文件夹下输入<code>live-server</code>基于可以了</p>
<p>总结：Nuxt.js框架非常简单，因为大部分的事情它都为我们做好了，我们只要安装它的规则来编写代码</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">刘如刚</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://blog.liurugang.cn/posts/60077/">http://blog.liurugang.cn/posts/60077/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://blog.liurugang.cn" target="_blank">无聊才读书-博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/HCLonely/hclonely.github.io/img/Butterfly/006.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/25/"><img class="prev-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Nuxt.js爬坑</div></div></a></div><div class="next-post pull-right"><a href="/posts/719/"><img class="next-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue面试题</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021  <i id="heartbeat" class="fa fas fa-heartbeat"></i> 刘如刚</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><meta name="generator" content="Hexo 4.2.1"></head></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/calendar.js"></script><script src="/js/languages.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":120,"height":260},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>